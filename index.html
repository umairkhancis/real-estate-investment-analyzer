<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Real Estate Investment Analyzer - Understand Before You Invest</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: #ffffff;
            color: #333;
            line-height: 1.7;
        }

        /* Hero Section */
        .hero {
            min-height: 100vh;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 40px 20px;
            position: relative;
        }

        .hero-content {
            max-width: 800px;
            animation: fadeInUp 1s ease-out;
        }

        .hero h1 {
            font-size: 3em;
            font-weight: 800;
            margin-bottom: 25px;
            line-height: 1.2;
        }

        .hero .subtitle {
            font-size: 1.4em;
            margin-bottom: 20px;
            opacity: 0.95;
            font-weight: 300;
        }

        .hero .description {
            font-size: 1.15em;
            margin-bottom: 40px;
            opacity: 0.9;
            line-height: 1.6;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Content Sections */
        .content-section {
            padding: 80px 20px;
            max-width: 900px;
            margin: 0 auto;
        }

        .content-section.bg-light {
            background: #f8f9fa;
        }

        .content-section.bg-gradient {
            background: linear-gradient(135deg, #f5f7fa 0%, #e8ecf1 100%);
        }

        .content-section h2 {
            font-size: 2.5em;
            margin-bottom: 25px;
            color: #667eea;
            font-weight: 700;
        }

        .content-section h3 {
            font-size: 1.8em;
            margin: 40px 0 20px 0;
            color: #764ba2;
            font-weight: 600;
        }

        .content-section p {
            font-size: 1.15em;
            margin-bottom: 20px;
            line-height: 1.8;
            color: #555;
        }

        .content-section strong {
            color: #333;
            font-weight: 600;
        }

        /* Example Box */
        .example-box {
            background: #fff;
            border-left: 5px solid #667eea;
            padding: 25px;
            margin: 30px 0;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.08);
        }

        .example-box h4 {
            color: #667eea;
            font-size: 1.3em;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .example-box p {
            margin-bottom: 12px;
            color: #666;
        }

        .example-box .highlight {
            background: #f0f4ff;
            padding: 15px;
            border-radius: 5px;
            margin-top: 15px;
            font-weight: 500;
            color: #333;
        }

        /* Formula Box */
        .formula-box {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 10px;
            margin: 30px 0;
            text-align: center;
            font-size: 1.2em;
            font-weight: 500;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        /* Concept Cards */
        .concept-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 25px;
            margin: 40px 0;
        }

        .concept-card {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 3px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s;
        }

        .concept-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 20px rgba(0,0,0,0.15);
        }

        .concept-card h4 {
            color: #667eea;
            font-size: 1.3em;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .concept-card p {
            font-size: 1em;
            color: #666;
            line-height: 1.6;
        }

        /* CTA Button */
        .cta-button {
            display: inline-block;
            padding: 18px 45px;
            font-size: 1.2em;
            font-weight: 600;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            text-decoration: none;
            border-radius: 50px;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
            cursor: pointer;
            border: none;
            text-align: center;
        }

        .cta-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.5);
        }

        .cta-container {
            text-align: center;
            margin: 50px 0;
        }

        /* Calculator Section */
        .calculator-section {
            background: #f8f9fa;
            padding: 80px 20px;
        }

        .calculator-container {
            max-width: 1100px;
            margin: 0 auto;
            background: white;
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 5px 30px rgba(0,0,0,0.1);
        }

        .calculator-title {
            font-size: 2.5em;
            color: #667eea;
            margin-bottom: 15px;
            text-align: center;
            font-weight: 700;
        }

        .calculator-subtitle {
            text-align: center;
            color: #666;
            font-size: 1.15em;
            margin-bottom: 40px;
        }

        .input-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin-bottom: 35px;
        }

        .input-group {
            display: flex;
            flex-direction: column;
        }

        .input-group label {
            font-weight: 600;
            margin-bottom: 8px;
            color: #333;
            font-size: 0.95em;
        }

        .input-group input {
            padding: 12px;
            font-size: 1em;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            transition: border-color 0.3s;
        }

        .input-group input:focus {
            outline: none;
            border-color: #667eea;
        }

        .calculate-btn {
            width: 100%;
            padding: 18px;
            font-size: 1.3em;
            font-weight: 600;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            margin: 30px 0;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }

        .calculate-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.5);
        }

        .results-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 20px;
            margin-top: 40px;
        }

        .result-card {
            background: linear-gradient(135deg, #f5f7fa 0%, #e8ecf1 100%);
            padding: 25px;
            border-radius: 12px;
            text-align: center;
            border: 2px solid transparent;
            transition: all 0.3s;
        }

        .result-card.positive {
            border-color: #28a745;
            background: linear-gradient(135deg, #d4edda 0%, #c3e6cb 100%);
        }

        .result-card.negative {
            border-color: #dc3545;
            background: linear-gradient(135deg, #f8d7da 0%, #f5c6cb 100%);
        }

        .result-card.warning {
            border-color: #ffc107;
            background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);
        }

        .result-card h4 {
            font-size: 0.9em;
            color: #666;
            margin-bottom: 10px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .result-card .value {
            font-size: 2em;
            font-weight: 700;
            color: #333;
        }

        .result-card .interpretation {
            margin-top: 10px;
            font-size: 0.85em;
            color: #666;
        }

        .cash-flow-section {
            margin-top: 50px;
        }

        .cash-flow-title {
            font-size: 1.8em;
            color: #667eea;
            margin-bottom: 20px;
            font-weight: 600;
        }

        .cash-flow-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
            gap: 15px;
            margin-top: 25px;
        }

        .cash-flow-item {
            text-align: center;
            padding: 15px 5px;
            background: #f8f9fa;
            border-radius: 8px;
            border: 2px solid #e0e0e0;
        }

        .cash-flow-item.negative {
            background: #ffe6e6;
            border-color: #ffcccc;
        }

        .cash-flow-item.positive {
            background: #e6ffe6;
            border-color: #ccffcc;
        }

        .cash-flow-year {
            font-size: 0.8em;
            color: #666;
            margin-bottom: 5px;
            font-weight: 600;
        }

        .cash-flow-amount {
            font-size: 0.75em;
            color: #333;
            font-weight: 500;
        }

        .cash-flow-arrow {
            font-size: 1.5em;
            margin: 5px 0;
        }

        /* Footer */
        .footer {
            background: #2c3e50;
            color: white;
            text-align: center;
            padding: 40px 20px;
        }

        .footer p {
            opacity: 0.8;
            font-size: 0.95em;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .hero h1 {
                font-size: 2.2em;
            }

            .hero .subtitle {
                font-size: 1.1em;
            }

            .content-section h2 {
                font-size: 2em;
            }

            .content-section h3 {
                font-size: 1.5em;
            }

            .calculator-container {
                padding: 25px;
            }

            .cash-flow-grid {
                grid-template-columns: repeat(auto-fill, minmax(60px, 1fr));
                gap: 10px;
            }
        }
    </style>
</head>
<body>

    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-content">
            <h1>Should You Really Buy That Property?</h1>
            <p class="subtitle">Most investors rely on gut feeling or developer promises.</p>
            <p class="description">What if you could see the true value of your investment before committing hundreds of thousands? Let's help you understand what your money will really be worth.</p>
            <a href="#start-learning" class="cta-button">Show Me How</a>
        </div>
    </section>

    <!-- The Problem -->
    <section class="content-section">
        <h2>Here's The Problem...</h2>
        <p>You're excited about a property. The developer shows you beautiful brochures. They promise:</p>
        <ul style="font-size: 1.15em; line-height: 2; color: #555; margin: 20px 0 20px 40px;">
            <li>"This area will boom in 5 years!"</li>
            <li>"Rental yields are amazing!"</li>
            <li>"Property values always go up!"</li>
        </ul>
        <p>But here's what they <strong>don't</strong> tell you:</p>
        <p><strong>Money today is not the same as money tomorrow.</strong></p>
        <p>That property they're selling you for $500,000 today, promising it'll be worth $1,000,000 in 20 years? That future million dollars is NOT worth a million in today's terms.</p>
        <p>Before you can make a smart investment decision, you need to understand one fundamental concept...</p>
    </section>

    <!-- Concept 1: Time Value of Money -->
    <section class="content-section bg-light" id="start-learning">
        <h2>üí° Understanding Time Value of Money</h2>
        <p>Let me ask you a simple question:</p>
        <p style="font-size: 1.3em; font-weight: 600; color: #667eea; margin: 30px 0;">Would you rather have $100 today or $100 in 5 years?</p>
        <p>Easy answer, right? <strong>Today!</strong> But why?</p>

        <div class="example-box">
            <h4>üìä Here's Why:</h4>
            <p><strong>If you have $100 today:</strong></p>
            <ul style="margin-left: 20px; line-height: 1.8;">
                <li>You could invest it in a bank at 5% annual interest</li>
                <li>After 5 years: $100 √ó (1.05)^5 = <strong>$127.63</strong></li>
            </ul>
            <p style="margin-top: 15px;"><strong>If you wait 5 years for $100:</strong></p>
            <ul style="margin-left: 20px; line-height: 1.8;">
                <li>You get exactly $100</li>
                <li>You've lost the opportunity to grow that money</li>
            </ul>
            <div class="highlight">
                üí° Conclusion: $100 today is worth MORE than $100 in the future
            </div>
        </div>

        <p>This simple concept is the foundation of all investment analysis. It's called the <strong>Time Value of Money</strong>.</p>

        <div class="formula-box">
            Future Value = Present Value √ó (1 + Rate)^Years
        </div>

        <p>Or flip it around:</p>

        <div class="formula-box">
            Present Value = Future Value √∑ (1 + Rate)^Years
        </div>

        <p>This second formula is crucial. It lets us take any future promise and calculate: <strong>"What is this really worth to me TODAY?"</strong></p>

        <div class="cta-container">
            <a href="#real-estate-context" class="cta-button">How Does This Apply to Real Estate?</a>
        </div>
    </section>

    <!-- Concept 2: Applying to Real Estate -->
    <section class="content-section" id="real-estate-context">
        <h2>üè† Now Let's Talk Real Estate</h2>
        <p>When you buy a property for investment, you're not just buying walls and floors. You're buying a stream of future cash flows:</p>

        <div class="concept-grid">
            <div class="concept-card">
                <h4>üí∏ Monthly Costs</h4>
                <p>Mortgage payments, service charges, maintenance - money going OUT every month</p>
            </div>
            <div class="concept-card">
                <h4>üí∞ Monthly Income</h4>
                <p>Rental payments from tenants - money coming IN every month</p>
            </div>
            <div class="concept-card">
                <h4>üéØ Exit Value</h4>
                <p>When you sell in 20 years, the price you'll get - one big payment IN</p>
            </div>
        </div>

        <p>Here's where it gets interesting:</p>

        <div class="example-box">
            <h4>üîç Real Example:</h4>
            <p>Imagine a property investment:</p>
            <ul style="margin-left: 20px; line-height: 1.8;">
                <li><strong>Today:</strong> You pay $100,000 down payment (money OUT)</li>
                <li><strong>Years 1-20:</strong> Net cash flow = $500/month (money IN)</li>
                <li><strong>Year 20:</strong> You sell for $300,000 (money IN)</li>
            </ul>
            <p style="margin-top: 15px;">Question: Is this a good investment?</p>
            <div class="highlight">
                ‚ùå WRONG Answer: "$100,000 out, $420,000 in ($6,000/year √ó 20 + $300,000 sale). Profit = $320,000!"
            </div>
            <div class="highlight" style="background: #d4edda; margin-top: 10px;">
                ‚úÖ RIGHT Answer: We need to discount all those future cash flows back to today's value!
            </div>
        </div>

        <p>Remember: That $300,000 you'll get in 20 years is NOT worth $300,000 in today's money.</p>
        <p>If we use a 6% discount rate, that $300,000 future value is only worth about <strong>$93,000</strong> in today's terms!</p>

        <div class="cta-container">
            <a href="#dcf-explanation" class="cta-button">Show Me How to Calculate This</a>
        </div>
    </section>

    <!-- Concept 3: DCF Explanation -->
    <section class="content-section bg-gradient" id="dcf-explanation">
        <h2>üìê Introducing: Discounted Cash Flow (DCF)</h2>
        <p>DCF is simply a fancy name for doing what we just learned - converting all future cash flows to today's value.</p>

        <h3>Step 1: List All Cash Flows</h3>
        <p>Write down every payment coming in and going out, year by year:</p>
        <ul style="font-size: 1.1em; line-height: 2; color: #555; margin: 15px 0 15px 40px;">
            <li>Year 0 (today): -$100,000 (your down payment)</li>
            <li>Year 1: +$6,000 (net rental income)</li>
            <li>Year 2: +$6,000</li>
            <li>... continuing ...</li>
            <li>Year 20: +$306,000 (last year's rent + sale price)</li>
        </ul>

        <h3>Step 2: Choose Your Discount Rate</h3>
        <p>This is the rate of return you expect or could get elsewhere. Common choices:</p>
        <ul style="font-size: 1.1em; line-height: 2; color: #555; margin: 15px 0 15px 40px;">
            <li><strong>3-4%:</strong> Conservative (bank savings rate)</li>
            <li><strong>5-7%:</strong> Moderate (stock market average)</li>
            <li><strong>8-10%:</strong> Aggressive (higher risk investments)</li>
        </ul>
        <p>The higher your discount rate, the less valuable future money becomes.</p>

        <h3>Step 3: Discount Each Cash Flow</h3>
        <p>For each future payment, calculate its present value:</p>

        <div class="formula-box">
            PV = Cash Flow √∑ (1 + Rate)^Year
        </div>

        <div class="example-box">
            <h4>Example with 6% discount rate:</h4>
            <ul style="margin-left: 20px; line-height: 1.8;">
                <li>Year 1: $6,000 √∑ (1.06)^1 = $5,660</li>
                <li>Year 2: $6,000 √∑ (1.06)^2 = $5,340</li>
                <li>Year 10: $6,000 √∑ (1.06)^10 = $3,350</li>
                <li>Year 20 sale: $300,000 √∑ (1.06)^20 = $93,600</li>
            </ul>
        </div>

        <h3>Step 4: Add Them All Up</h3>
        <p>Sum all the present values. This gives you the <strong>total DCF value</strong> - what all future cash flows are worth TODAY.</p>

        <h3>Step 5: Calculate Net Present Value (NPV)</h3>
        <p>Subtract your initial investment:</p>

        <div class="formula-box">
            NPV = DCF Value - Initial Investment
        </div>

        <div class="example-box">
            <h4>üí° What NPV Tells You:</h4>
            <ul style="margin-left: 20px; line-height: 1.8;">
                <li><strong>NPV > 0:</strong> Good investment! You're getting more value than you're paying</li>
                <li><strong>NPV = 0:</strong> Break-even. You could do this or put money elsewhere</li>
                <li><strong>NPV < 0:</strong> Bad investment! You're paying more than it's worth</li>
            </ul>
        </div>

        <div class="cta-container">
            <a href="#other-metrics" class="cta-button">What About Other Metrics?</a>
        </div>
    </section>

    <!-- Concept 4: Other Metrics -->
    <section class="content-section" id="other-metrics">
        <h2>üìä Understanding the Key Metrics</h2>
        <p>DCF and NPV are powerful, but investors use additional metrics to evaluate investments. Let's understand each one:</p>

        <h3>1. Internal Rate of Return (IRR)</h3>
        <div class="example-box">
            <h4>What is it?</h4>
            <p>IRR is the discount rate that makes your NPV equal to zero. In simpler terms: <strong>it's your actual annual return percentage</strong>.</p>
            <h4>How to interpret:</h4>
            <ul style="margin-left: 20px; line-height: 1.8;">
                <li>IRR of 8% means you're earning 8% per year on your money</li>
                <li>Compare IRR to other investments: If stocks return 7% and your IRR is 9%, real estate wins!</li>
                <li>Compare IRR to your mortgage rate: If you borrow at 5% and IRR is 8%, you're making money on borrowed funds</li>
            </ul>
            <div class="highlight">
                <strong>Rule of Thumb:</strong> Most real estate investors look for IRR > 6-8%
            </div>
        </div>

        <h3>2. Return on Invested Capital (ROIC)</h3>
        <div class="example-box">
            <h4>What is it?</h4>
            <p>ROIC shows your total return as a percentage of your initial investment.</p>
            <div class="formula-box" style="margin: 15px 0;">
                ROIC = (Final Value - Initial Investment) √∑ Initial Investment √ó 100%
            </div>
            <h4>How to interpret:</h4>
            <ul style="margin-left: 20px; line-height: 1.8;">
                <li>ROIC of 150% means you tripled your down payment</li>
                <li>ROIC of 50% means you made half your money back in profit</li>
                <li>Unlike IRR, this doesn't account for time - $100K turning into $200K is 100% ROIC whether it takes 5 years or 20 years</li>
            </ul>
            <div class="highlight">
                <strong>Use it to:</strong> Quickly see your total profit multiple
            </div>
        </div>

        <h3>3. Debt Service Coverage Ratio (DSCR)</h3>
        <div class="example-box">
            <h4>What is it?</h4>
            <p>DSCR tells you if your rental income covers your mortgage payments.</p>
            <div class="formula-box" style="margin: 15px 0;">
                DSCR = Annual Rental Income √∑ Annual Mortgage Payment
            </div>
            <h4>How to interpret:</h4>
            <ul style="margin-left: 20px; line-height: 1.8;">
                <li><strong>DSCR > 1.0:</strong> ‚úÖ Your rent covers the mortgage (positive cash flow!)</li>
                <li><strong>DSCR = 1.0:</strong> ‚ö†Ô∏è Rent exactly equals mortgage (no buffer)</li>
                <li><strong>DSCR < 1.0:</strong> ‚ùå Rent doesn't cover mortgage (you pay the difference each month)</li>
            </ul>
            <div class="highlight">
                <strong>Banks love this metric!</strong> Most require DSCR > 1.25 for investment property loans
            </div>
        </div>

        <h3>4. Putting It All Together</h3>
        <p>Here's how to use these metrics together when evaluating a property:</p>

        <div class="concept-grid">
            <div class="concept-card">
                <h4>‚úÖ Great Investment</h4>
                <p>NPV > 0, IRR > 8%, DSCR > 1.25, ROIC > 100%</p>
            </div>
            <div class="concept-card">
                <h4>‚ö†Ô∏è Marginal Investment</h4>
                <p>NPV slightly positive, IRR 4-6%, DSCR 1.0-1.2, ROIC 30-60%</p>
            </div>
            <div class="concept-card">
                <h4>‚ùå Poor Investment</h4>
                <p>NPV < 0, IRR < 4%, DSCR < 1.0, ROIC < 20%</p>
            </div>
        </div>

        <div class="cta-container">
            <a href="#calculator" class="cta-button">Ready to Calculate Your Investment</a>
        </div>
    </section>

    <!-- Calculator Section -->
    <section class="calculator-section" id="calculator">
        <div class="calculator-container">
            <h2 class="calculator-title">üí∞ Real Estate Investment Calculator</h2>
            <p class="calculator-subtitle">Now that you understand the concepts, let's analyze your investment</p>

            <div class="input-grid">
                <div class="input-group">
                    <label for="size">Property Size (sq ft)</label>
                    <input type="number" id="size" value="1189" step="1">
                </div>
                <div class="input-group">
                    <label for="totalValue">Total Property Value</label>
                    <input type="text" id="totalValue" value="1,560,000" inputmode="numeric">
                </div>
                <div class="input-group">
                    <label for="downPayment">Down Payment (%)</label>
                    <input type="number" id="downPayment" value="20" step="1" min="0" max="100">
                </div>
                <div class="input-group">
                    <label for="registrationFee">Govt. Registration Fee (%)</label>
                    <input type="number" id="registrationFee" value="4" step="0.1" min="0" max="20">
                </div>
                <div class="input-group">
                    <label for="tenure">Loan Tenure (years)</label>
                    <input type="number" id="tenure" value="25" step="1" min="1" max="30">
                </div>
                <div class="input-group">
                    <label for="discountRate">Annual Discount Rate (%)</label>
                    <input type="number" id="discountRate" value="4" step="0.1" min="0" max="20">
                </div>
                <div class="input-group">
                    <label for="rentalROI">Rental ROI (%)</label>
                    <input type="number" id="rentalROI" value="6" step="0.1" min="0" max="20">
                </div>
                <div class="input-group">
                    <label for="serviceCharges">Service Charges (per sq ft/year)</label>
                    <input type="number" id="serviceCharges" value="10" step="0.1">
                </div>
                <div class="input-group">
                    <label for="exitValue">Exit Value (Expected Sale Price)</label>
                    <input type="text" id="exitValue" value="1,664,600" inputmode="numeric">
                </div>
            </div>

            <button class="calculate-btn" onclick="calculate({ shouldScroll: true })">Calculate Investment Value</button>

            <div id="results" style="display: none;">
                <!-- Investment Status -->
                <div id="investmentStatus" style="margin: 40px 0; padding: 0; border-radius: 20px; overflow: hidden; box-shadow: 0 10px 40px rgba(0,0,0,0.15);">
                    <!-- Status Header -->
                    <div id="statusHeader" style="padding: 40px 30px 30px 30px; text-align: center;">
                        <div id="statusIcon" style="font-size: 4em; margin-bottom: 15px; line-height: 1;">-</div>
                        <h2 id="statusTitle" style="margin: 0 0 12px 0; font-size: 2.8em; font-weight: 800; line-height: 1.2;">-</h2>
                        <p id="statusDescription" style="margin: 0; font-size: 1.25em; opacity: 0.85; font-weight: 500;">-</p>
                    </div>

                    <!-- Criteria Grid -->
                    <div id="statusCriteria" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 0; border-top: 2px solid rgba(0,0,0,0.1);"></div>
                </div>

                <!-- Improvement Hints (only shown if not Great Investment) -->
                <div id="improvementHints" style="display: none; margin: 30px 0; padding: 25px 30px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 15px; box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);">
                    <h3 style="color: white; margin: 0 0 15px 0; font-size: 1.4em; display: flex; align-items: center; gap: 10px;">
                        <span style="font-size: 1.3em;">üí°</span> How to Turn This into a Great Investment
                    </h3>
                    <div id="hintsContent" style="color: rgba(255,255,255,0.95); font-size: 1.05em; line-height: 1.8;"></div>
                </div>

                <!-- Key Metrics -->
                <h3 style="color: #667eea; margin: 30px 0 20px 0; font-size: 1.8em;">üìä Key Metrics</h3>
                <div class="results-grid">
                    <div class="result-card" id="dcfCard">
                        <h4>DCF<br><span style="font-size: 0.65em; font-weight: 400; opacity: 0.8;">Intrinsic Value</span></h4>
                        <div class="value" id="dcfValue">-</div>
                        <div class="interpretation" id="dcfInterpretation"></div>
                    </div>
                    <div class="result-card" id="irrCard">
                        <h4>IRR<br><span style="font-size: 0.65em; font-weight: 400; opacity: 0.8;">Annual Rate of Return</span></h4>
                        <div class="value" id="irrValue">-</div>
                        <div class="interpretation" id="irrInterpretation"></div>
                    </div>
                    <div class="result-card" id="dscrCard">
                        <h4>DSCR<br><span style="font-size: 0.65em; font-weight: 400; opacity: 0.8;">Debt Service Coverage Ratio</span></h4>
                        <div class="value" id="dscrValue">-</div>
                        <div class="interpretation" id="dscrInterpretation"></div>
                    </div>
                    <div class="result-card" id="roicCard">
                        <h4>ROIC<br><span style="font-size: 0.65em; font-weight: 400; opacity: 0.8;">Return on Invested Capital</span></h4>
                        <div class="value" id="roicValue">-</div>
                        <div class="interpretation" id="roicInterpretation"></div>
                    </div>
                </div>

                <!-- All Computation Fields -->
                <h3 style="color: #667eea; margin: 30px 0 20px 0; font-size: 1.8em;">üí∞ Detailed Computations</h3>
                <div class="results-grid" style="grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));">
                    <div class="result-card">
                        <h4>Price per Sq Ft</h4>
                        <div class="value" id="pricePerSqFtValue" style="font-size: 1.5em;">-</div>
                    </div>
                    <div class="result-card">
                        <h4>Down Payment Amount</h4>
                        <div class="value" id="downPaymentAmtValue" style="font-size: 1.5em;">-</div>
                    </div>
                    <div class="result-card">
                        <h4>Govt. Registration Fee</h4>
                        <div class="value" id="landDeptFeeValue" style="font-size: 1.5em;">-</div>
                    </div>
                    <div class="result-card">
                        <h4>Agent Commission: 2%</h4>
                        <div class="value" id="agentFeeValue" style="font-size: 1.5em;">-</div>
                    </div>
                    <div class="result-card">
                        <h4>Invested Capital</h4>
                        <div class="value" id="investedCapitalValue" style="font-size: 1.5em;">-</div>
                    </div>
                    <div class="result-card">
                        <h4>Financing Amount</h4>
                        <div class="value" id="financingAmountValue" style="font-size: 1.5em;">-</div>
                    </div>
                    <div class="result-card">
                        <h4>Rental Amount (Annual)</h4>
                        <div class="value" id="annualRentalValue" style="font-size: 1.5em;">-</div>
                    </div>
                    <div class="result-card">
                        <h4>Service Charges (Annual)</h4>
                        <div class="value" id="annualServiceChargesValue" style="font-size: 1.5em;">-</div>
                    </div>
                    <div class="result-card">
                        <h4>Net Operating Profit (Annual)</h4>
                        <div class="value" id="netOperatingIncomeValue" style="font-size: 1.5em;">-</div>
                    </div>
                    <div class="result-card">
                        <h4>EMI (Monthly)</h4>
                        <div class="value" id="monthlyEMIValue" style="font-size: 1.5em;">-</div>
                    </div>
                    <div class="result-card">
                        <h4>Loan Amount (Annual)</h4>
                        <div class="value" id="loanAmountAnnualizedValue" style="font-size: 1.5em;">-</div>
                    </div>
                    <div class="result-card">
                        <h4>Net Cash Flow (Annual)</h4>
                        <div class="value" id="netAnnualCashFlowValue" style="font-size: 1.5em;">-</div>
                    </div>
                </div>

                <div class="cash-flow-section">
                    <h3 class="cash-flow-title">Cash Flow Projection</h3>
                    <p style="text-align: center; color: #666; margin-bottom: 20px;">
                        Year 0 (Initial Investment) ‚Üí Year <span id="exitYearLabel">25</span> (Property Sale + Final Cash Flow)
                    </p>
                    <div class="cash-flow-grid" id="cashFlowGrid"></div>
                </div>
            </div>
        </div>
    </section>

    <!-- Final CTA -->
    <section class="content-section bg-light">
        <h2>üéØ Make Informed Decisions</h2>
        <p>You now understand more about real estate valuation than most investors. You know:</p>
        <ul style="font-size: 1.15em; line-height: 2; color: #555; margin: 20px 0 20px 40px;">
            <li>‚úÖ Why future money is worth less than today's money</li>
            <li>‚úÖ How to calculate the true present value of any investment</li>
            <li>‚úÖ What NPV, IRR, ROIC, and DSCR mean and how to use them</li>
            <li>‚úÖ How to evaluate if a property is truly worth buying</li>
        </ul>
        <p style="font-size: 1.2em; font-weight: 600; color: #667eea; margin-top: 30px;">Don't invest based on promises. Invest based on numbers.</p>
        <div class="cta-container">
            <a href="#calculator" class="cta-button">Calculate Your Next Investment</a>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <p>&copy; 2024 Real Estate Investment Analyzer. For educational purposes only. Always consult with financial advisors before making investment decisions.</p>
    </footer>

    <!-- Import Calculator Business Logic Module -->
    <script src="calculator.js"></script>

    <!-- UI Logic -->
    <script>
        /**
         * Format currency for display (thousands separator, no decimals)
         */
        function formatCurrency(value) {
            return value.toLocaleString('en-US', {
                minimumFractionDigits: 0,
                maximumFractionDigits: 0
            });
        }

        /**
         * Format number with commas (for input fields)
         */
        function formatWithCommas(value) {
            const num = parseFloat(value.toString().replace(/,/g, ''));
            if (isNaN(num)) return value;
            return num.toLocaleString('en-US');
        }

        /**
         * Main calculate function - Gets inputs from DOM, calls calculator module, updates UI
         */
        function calculate({ shouldScroll = false } = {}) {
            // Get inputs from form
            const inputs = {
                propertySize: parseFloat(document.getElementById('size').value),
                totalValue: parseFloat(document.getElementById('totalValue').value.replace(/,/g, '')),
                downPaymentPercent: parseFloat(document.getElementById('downPayment').value),
                registrationFeePercent: parseFloat(document.getElementById('registrationFee').value),
                tenure: parseFloat(document.getElementById('tenure').value),
                discountRate: parseFloat(document.getElementById('discountRate').value),
                rentalROI: parseFloat(document.getElementById('rentalROI').value),
                serviceChargesPerSqFt: parseFloat(document.getElementById('serviceCharges').value),
                exitValue: parseFloat(document.getElementById('exitValue').value.replace(/,/g, ''))
            };

            // Call calculator module to get results
            const results = RealEstateCalculator.calculateInvestment(inputs);

            // Update UI with results
            updateResultsDisplay(results);

            // Optionally scroll to results
            if (shouldScroll) {
                document.getElementById('results').scrollIntoView({ behavior: 'smooth', block: 'nearest' });
            }
        }

        /**
         * Update all result displays in the DOM
         */
        function updateResultsDisplay(results) {
            // Show results section
            document.getElementById('results').style.display = 'block';

            // Determine Investment Status based on metric interpretations
            const npvPositive = results.npv > 0;
            const irrPercent = results.irr * 100;
            const roicPercent = results.roic * 100;

            // Define risk-free rate benchmark (typical treasury bonds)
            const riskFreeRate = 4.0; // 4% as benchmark

            // Interpret each metric
            const interpretations = {
                npv: {
                    icon: 'üí∞',
                    label: 'NPV: Net Present Value',
                    value: formatCurrency(results.npv),
                    interpretation: npvPositive ? 'Creates value over time' : 'Erodes value over time',
                    status: npvPositive ? 'positive' : 'negative',
                    isStrong: npvPositive && results.npv > 100000,
                    isAcceptable: npvPositive
                },
                irr: {
                    icon: 'üìà',
                    label: 'IRR: Internal Rate of Return',
                    value: irrPercent.toFixed(2) + '%',
                    interpretation: irrPercent > 6
                        ? 'Strongly beats risk-free return'
                        : irrPercent > riskFreeRate
                            ? 'Marginally beats risk-free return'
                            : irrPercent > 0
                                ? 'Below risk-free return'
                                : 'Negative return',
                    status: irrPercent > 6 ? 'positive' : irrPercent > riskFreeRate ? 'acceptable' : 'negative',
                    isStrong: irrPercent > 6,
                    isAcceptable: irrPercent > riskFreeRate
                },
                dscr: {
                    icon: 'üíµ',
                    label: 'DSCR: Debt Service Coverage',
                    value: results.dscr.toFixed(2) + 'x',
                    interpretation: results.dscr > 1.25
                        ? 'Highly self-sustainable'
                        : results.dscr >= 1.0
                            ? 'Minimally self-sustainable'
                            : 'Requires additional capital',
                    status: results.dscr > 1.25 ? 'positive' : results.dscr >= 1.0 ? 'acceptable' : 'negative',
                    isStrong: results.dscr > 1.25,
                    isAcceptable: results.dscr >= 1.0
                },
                roic: {
                    icon: 'üöÄ',
                    label: 'ROIC: Return on Invested Capital',
                    value: roicPercent.toFixed(2) + '%',
                    interpretation: roicPercent > 50
                        ? 'Strong capital growth'
                        : roicPercent > 20
                            ? 'Moderate capital growth'
                            : roicPercent > 0
                                ? 'Weak capital growth'
                                : 'Capital loss',
                    status: roicPercent > 50 ? 'positive' : roicPercent > 20 ? 'acceptable' : 'negative',
                    isStrong: roicPercent > 50,
                    isAcceptable: roicPercent > 20
                }
            };

            // Determine overall investment classification
            const strongCount = Object.values(interpretations).filter(m => m.isStrong).length;
            const acceptableCount = Object.values(interpretations).filter(m => m.isAcceptable).length;

            let statusLevel = 'weak';
            let statusTitle = '';
            let statusDescription = '';
            let statusIcon = '';
            let headerBg = '';
            let headerColor = '';

            // Build dynamic description from interpretations
            const descParts = [
                interpretations.npv.interpretation,
                interpretations.irr.interpretation.toLowerCase(),
                interpretations.dscr.interpretation.toLowerCase(),
                interpretations.roic.interpretation.toLowerCase()
            ];

            // Great: All 4 metrics are strong
            if (strongCount === 4) {
                statusLevel = 'great';
                statusTitle = 'Great Investment';
                statusDescription = descParts.join(', ');
                statusIcon = 'üéâ';
                headerBg = 'linear-gradient(135deg, #11998e 0%, #38ef7d 100%)';
                headerColor = '#ffffff';
            }
            // Marginal: 3-4 metrics are acceptable (but not all strong)
            else if (acceptableCount >= 3) {
                statusLevel = 'marginal';
                statusTitle = 'Marginal Investment';
                statusDescription = descParts.join(', ');
                statusIcon = '‚ö†Ô∏è';
                headerBg = 'linear-gradient(135deg, #f093fb 0%, #f5576c 100%)';
                headerColor = '#ffffff';
            }
            // Weak: Less than 3 metrics acceptable
            else {
                statusLevel = 'weak';
                statusTitle = 'Weak Investment';
                statusDescription = descParts.join(', ');
                statusIcon = '‚ùå';
                headerBg = 'linear-gradient(135deg, #eb3349 0%, #f45c43 100%)';
                headerColor = '#ffffff';
            }

            // Update Investment Status Display
            const statusHeader = document.getElementById('statusHeader');
            statusHeader.style.background = headerBg;
            statusHeader.style.color = headerColor;

            document.getElementById('statusIcon').textContent = statusIcon;
            document.getElementById('statusTitle').textContent = statusTitle;
            document.getElementById('statusDescription').textContent = statusDescription;

            // Update Criteria Grid with interpretations
            const criteriaDiv = document.getElementById('statusCriteria');
            criteriaDiv.innerHTML = Object.values(interpretations).map(metric => {
                // Determine colors based on status
                let bgColor, textColor, statusEmoji;
                if (metric.status === 'positive') {
                    bgColor = 'rgba(76, 175, 80, 0.1)';
                    textColor = '#2e7d32';
                    statusEmoji = '‚úÖ';
                } else if (metric.status === 'acceptable') {
                    bgColor = 'rgba(255, 193, 7, 0.1)';
                    textColor = '#f57c00';
                    statusEmoji = '‚ö†Ô∏è';
                } else {
                    bgColor = 'rgba(244, 67, 54, 0.1)';
                    textColor = '#c62828';
                    statusEmoji = '‚ùå';
                }

                return `
                    <div style="
                        padding: 25px 20px;
                        background: ${bgColor};
                        border-right: 1px solid rgba(0,0,0,0.05);
                        border-bottom: 1px solid rgba(0,0,0,0.05);
                        text-align: center;
                        transition: all 0.3s ease;
                    ">
                        <div style="font-size: 2.5em; margin-bottom: 10px;">${metric.icon}</div>
                        <div style="font-size: 0.75em; color: #666; margin-bottom: 8px; font-weight: 600; letter-spacing: 0.5px;">${metric.label}</div>
                        <div style="font-size: 1.4em; font-weight: 700; color: #333; margin-bottom: 8px;">${metric.value}</div>
                        <div style="font-size: 0.85em; color: ${textColor}; font-weight: 600; margin-bottom: 5px;">${metric.interpretation}</div>
                        <div style="font-size: 1.5em;">${statusEmoji}</div>
                    </div>
                `;
            }).join('');

            // Generate Improvement Hints (only if not Great Investment)
            const improvementHintsDiv = document.getElementById('improvementHints');
            const hintsContentDiv = document.getElementById('hintsContent');

            if (statusLevel !== 'great') {
                const hints = [];

                // Check which metrics need improvement and suggest inputs to change
                if (!interpretations.npv.isStrong || results.npv <= 0) {
                    hints.push('<strong>Increase Rental ROI</strong> or <strong>Exit Value</strong> to create more value over time');
                }

                if (!interpretations.irr.isStrong) {
                    if (irrPercent < riskFreeRate) {
                        hints.push('<strong>Increase Rental ROI</strong> to boost annual returns above risk-free rate');
                    } else if (irrPercent <= 6) {
                        hints.push('<strong>Increase Rental ROI</strong> or <strong>Exit Value</strong> to achieve strong returns (>6%)');
                    }
                }

                if (!interpretations.dscr.isStrong) {
                    if (results.dscr < 1.0) {
                        hints.push('<strong>Reduce Total Property Value</strong> (less debt) or <strong>Increase Rental ROI</strong> to make investment self-sustainable');
                    } else {
                        hints.push('<strong>Increase Rental ROI</strong> to improve cash flow sustainability (target DSCR >1.25)');
                    }
                }

                if (!interpretations.roic.isStrong) {
                    if (roicPercent < 20) {
                        hints.push('<strong>Increase Exit Value</strong> or <strong>Rental ROI</strong> to achieve positive capital growth');
                    } else {
                        hints.push('<strong>Increase Exit Value</strong> to boost return on invested capital (target >50%)');
                    }
                }

                if (hints.length > 0) {
                    improvementHintsDiv.style.display = 'block';
                    hintsContentDiv.innerHTML = '<ul style="margin: 0; padding-left: 25px;">' +
                        hints.map(h => `<li style="margin-bottom: 10px;">${h}</li>`).join('') +
                        '</ul>';
                } else {
                    improvementHintsDiv.style.display = 'none';
                }
            } else {
                improvementHintsDiv.style.display = 'none';
            }

            // Update Key Metrics
            // DCF Card - Color based on whether it creates or destroys value
            const dcfCard = document.getElementById('dcfCard');
            document.getElementById('dcfValue').textContent = formatCurrency(results.dcf);

            // DCF creates value when DCF > Invested Capital (i.e., NPV > 0)
            if (results.npv > 0) {
                dcfCard.classList.add('positive');
                dcfCard.classList.remove('negative');
                document.getElementById('dcfInterpretation').textContent = 'Creates value';
            } else {
                dcfCard.classList.add('negative');
                dcfCard.classList.remove('positive');
                document.getElementById('dcfInterpretation').textContent = 'Destroys value';
            }

            const irrCard = document.getElementById('irrCard');
            document.getElementById('irrValue').textContent = (results.irr * 100).toFixed(2) + '%';
            if (results.irr > results.discountRate) {
                irrCard.classList.add('positive');
                irrCard.classList.remove('negative');
                document.getElementById('irrInterpretation').textContent = 'Exceeds hurdle';
            } else {
                irrCard.classList.add('negative');
                irrCard.classList.remove('positive');
                document.getElementById('irrInterpretation').textContent = 'Below hurdle';
            }

            const roicCard = document.getElementById('roicCard');
            document.getElementById('roicValue').textContent = (results.roic * 100).toFixed(2) + '%';
            // Strong: > 50% (Green), Moderate: 20-50% (Yellow), Weak: < 20% (Red)
            if (results.roic > 0.5) {
                roicCard.classList.add('positive');
                roicCard.classList.remove('negative', 'warning');
                document.getElementById('roicInterpretation').textContent = 'Strong return';
            } else if (results.roic >= 0.2) {
                roicCard.classList.add('warning');
                roicCard.classList.remove('positive', 'negative');
                document.getElementById('roicInterpretation').textContent = 'Moderate return';
            } else if (results.roic > 0) {
                roicCard.classList.add('negative');
                roicCard.classList.remove('positive', 'warning');
                document.getElementById('roicInterpretation').textContent = 'Weak return';
            } else {
                roicCard.classList.add('negative');
                roicCard.classList.remove('positive', 'warning');
                document.getElementById('roicInterpretation').textContent = 'Loss';
            }

            const dscrCard = document.getElementById('dscrCard');
            document.getElementById('dscrValue').textContent = results.dscr.toFixed(2) + 'x';
            // Healthy: > 1.25 (Green), Tight: 1.0-1.25 (Yellow), Insufficient: < 1.0 (Red)
            if (results.dscr > 1.25) {
                dscrCard.classList.add('positive');
                dscrCard.classList.remove('negative', 'warning');
                document.getElementById('dscrInterpretation').textContent = 'Healthy';
            } else if (results.dscr >= 1.0) {
                dscrCard.classList.add('warning');
                dscrCard.classList.remove('positive', 'negative');
                document.getElementById('dscrInterpretation').textContent = 'Tight';
            } else {
                dscrCard.classList.add('negative');
                dscrCard.classList.remove('positive', 'warning');
                document.getElementById('dscrInterpretation').textContent = 'Insufficient';
            }

            // Update All Computation Fields
            document.getElementById('pricePerSqFtValue').textContent = results.pricePerSqFt.toFixed(2);
            document.getElementById('downPaymentAmtValue').textContent = formatCurrency(results.downPaymentAmt);
            document.getElementById('landDeptFeeValue').textContent = formatCurrency(results.landDeptFee);
            document.getElementById('agentFeeValue').textContent = formatCurrency(results.agentFee);
            document.getElementById('investedCapitalValue').textContent = formatCurrency(results.investedCapital);
            document.getElementById('financingAmountValue').textContent = formatCurrency(results.financingAmount);
            document.getElementById('annualRentalValue').textContent = formatCurrency(results.annualRental);
            document.getElementById('annualServiceChargesValue').textContent = formatCurrency(results.annualServiceCharges);
            document.getElementById('netOperatingIncomeValue').textContent = formatCurrency(results.netOperatingIncome);
            document.getElementById('monthlyEMIValue').textContent = formatCurrency(results.monthlyEMI);
            document.getElementById('loanAmountAnnualizedValue').textContent = formatCurrency(results.loanAmountAnnualized);
            document.getElementById('netAnnualCashFlowValue').textContent = formatCurrency(results.netAnnualCashFlow);

            // Update exit year label
            document.getElementById('exitYearLabel').textContent = results.exitYear;

            // Update cash flow visualization
            updateCashFlowVisualization(results.cashFlows);
        }

        /**
         * Update cash flow visualization grid
         */
        function updateCashFlowVisualization(cashFlows) {
            const cashFlowGrid = document.getElementById('cashFlowGrid');
            cashFlowGrid.innerHTML = '';

            cashFlows.forEach((cf, index) => {
                const item = document.createElement('div');
                item.className = 'cash-flow-item ' + (cf < 0 ? 'negative' : 'positive');

                // Show accurate formatted values with commas, not rounded abbreviations
                const formattedAmount = formatCurrency(Math.abs(cf));

                item.innerHTML = `
                    <div class="cash-flow-year">Y${index}</div>
                    <div class="cash-flow-arrow">${cf < 0 ? '‚Üì' : '‚Üë'}</div>
                    <div class="cash-flow-amount">${formattedAmount}</div>
                `;
                cashFlowGrid.appendChild(item);
            });
        }

        // Auto-calculate on input change (without scrolling)
        document.querySelectorAll('input').forEach(input => {
            input.addEventListener('input', () => calculate({ shouldScroll: false }));
        });

        // Format currency inputs on blur
        ['totalValue', 'exitValue'].forEach(id => {
            const input = document.getElementById(id);
            if (input) {
                input.addEventListener('blur', () => {
                    input.value = formatWithCommas(input.value);
                });
            }
        });

        // Initial calculation on page load
        calculate();
    </script>

</body>
</html>